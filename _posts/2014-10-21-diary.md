---
layout: post
title:  "ActiveRecord created_at older than 3 days ago"
date:   2014-10-21 22:30:00
---

![](/tauesnap/tauesnap2014-10-21.png)
weei 150 days!

### ActiveRecord で古いデータを消す

Heroku のDB(Postgresql)無料範囲は 10,000 レコード。  
スクレイピングで貯めたデータが 7,000 を超えて Heroku から警告メール。  
指定日より古いレコードを消すには？

```ruby
require 'active_support/time'

Model.where("created_at < '#{3.days.ago}'").destroy_all
Model.where("created_at < :theday", {:theday => 1.week.ago}).destroy_all
```
